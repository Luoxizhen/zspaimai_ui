{
    "case_name": "test_custom_method_binding",
    "run_time": "20190917 16:22:14",
    "test_type": "InterfaceTest",
    "case_doc": "\u5c06\u56de\u8c03\u7ed1\u5b9a\u5230\u81ea\u5b9a\u4e49\u7684\u65b9\u6cd5\u91cc\u9762\n:return:",
    "success": true,
    "failures": "",
    "errors": "",
    "start_timestamp": 1568708534.90544,
    "is_failure": false,
    "is_error": false,
    "module": ".Users.sherlock.WeChatProjects.miniprogram-demo-test.interfacetest",
    "failed_line_num": -1,
    "device": {
        "system_info": {
            "model": "iPhone XR",
            "pixelRatio": 2,
            "windowWidth": 414,
            "windowHeight": 808,
            "system": "iOS 10.0.1",
            "language": "zh",
            "version": "7.0.4",
            "screenWidth": 414,
            "screenHeight": 896,
            "SDKVersion": "2.8.0",
            "brand": "devtools",
            "fontSizeSetting": 16,
            "batteryLevel": 100,
            "statusBarHeight": 44,
            "safeArea": {
                "right": 414,
                "bottom": 896,
                "left": 0,
                "top": 44,
                "width": 414,
                "height": 852
            },
            "platform": "devtools"
        }
    },
    "log_filename": "test_custom_method_binding.log",
    "weapp_log_path": "weapp.log",
    "page_data": {},
    "source": {
        "code": [
            "    def test_custom_method_binding(self):\n",
            "        \"\"\"\n",
            "        \u5c06\u56de\u8c03\u7ed1\u5b9a\u5230\u81ea\u5b9a\u4e49\u7684\u65b9\u6cd5\u91cc\u9762\n",
            "        :return:\n",
            "        \"\"\"\n",
            "        # 1. \u8bbe\u7f6e\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\n",
            "        def feedback(res):\n",
            "            print(\"Get feedback:\", res)\n",
            "\n",
            "        # 2. \u5c06\u56de\u8c03\u51fd\u6570\u66b4\u9732\u7ed9\u5c0f\u7a0b\u5e8f\n",
            "        self.app.expose_function(\"feedback\", feedback)\n",
            "\n",
            "        # 3. \u8df3\u8f6c\u5230\u67d0\u4e2a\u9875\u9762\n",
            "        self.app.navigate_to(\"/page/API/pages/request/request\")\n",
            "\n",
            "        # 4. \u83b7\u53d6\u5f53\u524d\u9875\u9762, \u547d\u540d\u4e3a self\n",
            "        # 5. \u4ece\u9875\u9762\u4e2d\u8bb0\u5f55\u4e0b\u9700\u8981\u7ed1\u5b9a\u56de\u8c03\u7684\u51fd\u6570 makeRequest \uff0c\u547d\u540d\u4e3a oldMakeRequest\n",
            "        # 6. \u91cd\u5199 makeRequest \uff0c\u5c06\u56de\u8c03\u7684\u8c03\u7528\u6dfb\u52a0\u8fdb\u53bb\uff0c\u5b9e\u73b0\u7ed1\u5b9a\n",
            "        self.app.evaluate(\"\"\"function (){\n",
            "        self = this.getCurrentPages().slice(-1)[0]\n",
            "        oldMakeRequest = self.makeRequest\n",
            "        self.makeRequest = function(event){\n",
            "            oldMakeRequest(event)\n",
            "            feedback(event)\n",
            "        }\n",
            "        }\"\"\")\n",
            "\n",
            "        # 7. \u70b9\u51fb\u63a7\u4ef6\uff0c\u89e6\u53d1\u63a7\u4ef6\u7ed1\u5b9a\u51fd\u6570 makeRequest\n",
            "        self.page.get_element(\"button\").trigger(\"bindtap\", {})\n"
        ],
        "start": 63
    },
    "stop_timestamp": 1568708541.034702,
    "check_list": [],
    "assert_list": [],
    "screen_info": [],
    "filename": "test_custom_method_binding.json"
}